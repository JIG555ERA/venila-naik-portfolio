@import url("https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Syne:wght@500;700;800&display=swap");
@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-display: "Syne", "sans-serif";
  --font-body: "Manrope", "sans-serif";
}

@layer base {
  html,
  body,
  #root {
    @apply min-h-full;
  }

  :root {
    --glass-bg: rgba(255, 255, 255, 0.5);
    --glass-border: rgba(255, 255, 255, 0.45);
    --glass-shadow: 0 18px 45px rgba(24, 28, 37, 0.12);
    --soft-radius: 1.5rem;
    --soft-radius-lg: 2rem;
    --bg-glow-1: rgba(87, 126, 255, 0.3);
    --bg-glow-2: rgba(0, 218, 203, 0.24);
    --bg-glow-3: rgba(255, 156, 78, 0.24);
  }

  .dark {
    --glass-bg: rgba(23, 26, 35, 0.52);
    --glass-border: rgba(255, 255, 255, 0.12);
    --glass-shadow: 0 26px 48px rgba(0, 0, 0, 0.42);
    --bg-glow-1: rgba(114, 140, 255, 0.22);
    --bg-glow-2: rgba(10, 175, 164, 0.2);
    --bg-glow-3: rgba(255, 146, 64, 0.18);
  }

  body {
    @apply bg-zinc-100 font-body text-zinc-900 antialiased transition-colors duration-300 dark:bg-zinc-950 dark:text-zinc-100;
    background-image:
      radial-gradient(60vw 60vw at 8% 4%, var(--bg-glow-1), transparent 66%),
      radial-gradient(42vw 42vw at 88% 0%, var(--bg-glow-2), transparent 62%),
      radial-gradient(55vw 55vw at 50% 100%, var(--bg-glow-3), transparent 64%);
    background-attachment: fixed;
  }
}

@layer components {
  .page-shell {
    @apply mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-20;
  }

  .panel {
    @apply border border-zinc-300/40 dark:border-zinc-800/60;
    border-radius: var(--soft-radius);
    background: var(--glass-bg);
    backdrop-filter: blur(14px) saturate(135%);
    -webkit-backdrop-filter: blur(14px) saturate(135%);
    box-shadow: var(--glass-shadow);
    border-color: var(--glass-border);
  }

  .tag {
    @apply inline-flex items-center rounded-full border border-zinc-300/60 px-3 py-1 text-xs font-semibold tracking-wide uppercase dark:border-zinc-700/80;
    background: color-mix(in srgb, var(--glass-bg) 76%, transparent);
  }

  .btn-main {
    @apply inline-flex items-center gap-2 rounded-full bg-zinc-950 px-5 py-2.5 text-sm font-semibold text-white transition duration-300 hover:-translate-y-1 hover:bg-black dark:bg-zinc-100 dark:text-zinc-900 dark:hover:bg-white;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
  }

  .btn-ghost {
    @apply inline-flex items-center gap-2 rounded-full border border-zinc-300/70 px-5 py-2.5 text-sm font-semibold transition duration-300 hover:-translate-y-1 dark:border-zinc-700/80;
    background: color-mix(in srgb, var(--glass-bg) 68%, transparent);
  }

  .section-title {
    @apply font-display text-3xl font-extrabold tracking-tight sm:text-4xl;
  }

  .soft-card {
    border-radius: var(--soft-radius);
    transition: transform 260ms ease, box-shadow 260ms ease, border-color 260ms ease;
    transform-style: preserve-3d;
  }

  .soft-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 22px 45px rgba(24, 28, 37, 0.18);
  }

  .soft-card-lg {
    border-radius: var(--soft-radius-lg);
  }

  .lift-hover {
    transition: transform 260ms ease, box-shadow 260ms ease, filter 260ms ease;
  }

  .lift-hover:hover {
    transform: translateY(-6px) scale(1.01);
    filter: saturate(1.08);
  }

  .glass-input {
    @apply border border-zinc-300/60 bg-transparent px-3 py-2 text-sm outline-none dark:border-zinc-700/70;
    border-radius: 0.9rem;
    background: color-mix(in srgb, var(--glass-bg) 80%, transparent);
    transition: border-color 220ms ease, box-shadow 220ms ease, transform 220ms ease;
  }

  .glass-input:focus {
    @apply border-zinc-900 dark:border-zinc-300;
    box-shadow: 0 0 0 4px color-mix(in srgb, #8da5ff 22%, transparent);
    transform: translateY(-1px);
  }

  .float-in {
    animation: floatIn 650ms cubic-bezier(0.2, 0.8, 0.2, 1) both;
  }

  .glow-hover {
    position: relative;
    overflow: hidden;
    isolation: isolate;
  }

  .glow-hover::before {
    content: "";
    position: absolute;
    inset: -36%;
    pointer-events: none;
    z-index: -1;
    background: radial-gradient(
      circle at var(--glow-x, 50%) var(--glow-y, 50%),
      rgba(164, 188, 255, 0.34),
      rgba(92, 220, 210, 0.2) 34%,
      transparent 62%
    );
    opacity: 0;
    transition: opacity 260ms ease;
  }

  .glow-hover:hover::before {
    opacity: 1;
  }

  .glow-hover-tight::before {
    inset: -16%;
    background: radial-gradient(
      circle at var(--glow-x, 50%) var(--glow-y, 50%),
      rgba(164, 188, 255, 0.36),
      rgba(92, 220, 210, 0.2) 20%,
      transparent 32%
    );
  }

  .bg-scene {
    perspective: 1100px;
    transform-style: preserve-3d;
  }

  .bg-orb {
    position: absolute;
    border-radius: 999px;
    filter: blur(1px);
    transform-style: preserve-3d;
    animation: drift 13s ease-in-out infinite;
  }

  .bg-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.15) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.12) 1px, transparent 1px);
    background-size: 38px 38px;
    mask-image: radial-gradient(circle at center, black 32%, transparent 82%);
    opacity: 0.18;
    transform: translateZ(-110px) rotateX(62deg) scale(1.2);
  }

  .dark .bg-grid {
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.09) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.08) 1px, transparent 1px);
  }

  .book-3d {
    perspective: 1250px;
    display: grid;
    place-items: center;
    min-height: 320px;
  }

  .book-3d-model {
    --book-w: 210px;
    --book-h: 285px;
    --book-d: 28px;
    position: relative;
    width: var(--book-w);
    height: var(--book-h);
    transform-style: preserve-3d;
    transform: rotateY(-30deg) rotateX(12deg);
    transition: transform 420ms ease, filter 320ms ease;
    filter: drop-shadow(0 26px 24px rgba(0, 0, 0, 0.28));
  }

  .book-3d-model:hover {
    transform: rotateY(-16deg) rotateX(6deg) translateY(-8px) scale(1.03);
    filter: drop-shadow(0 30px 26px rgba(15, 23, 42, 0.36));
  }

  .book-face {
    position: absolute;
    border-radius: 0.65rem;
    backface-visibility: hidden;
  }

  .book-front,
  .book-back {
    width: var(--book-w);
    height: var(--book-h);
  }

  .book-front {
    transform: translateZ(calc(var(--book-d) / 2));
    transform-origin: left center;
    transition: transform 420ms ease;
    background: #111827;
    border: 1px solid rgba(255, 255, 255, 0.2);
    overflow: hidden;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.06), 0 10px 16px rgba(2, 6, 23, 0.35);
  }

  .book-3d-model:hover .book-front {
    transform: translateZ(calc(var(--book-d) / 2)) rotateY(-138deg);
  }

  .book-cover-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .book-open-page {
    width: calc(var(--book-w) - 10px);
    height: calc(var(--book-h) - 10px);
    left: 5px;
    top: 5px;
    transform: translateZ(calc(var(--book-d) / 2 - 2px));
    transform-origin: left center;
    background: linear-gradient(180deg, #ffffff, #f7f7f7 62%, #ebedf0);
    border: 1px solid rgba(148, 163, 184, 0.35);
    border-radius: 0.4rem;
    padding: 1rem 0.95rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 0.8rem;
    color: #111827;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.75);
    opacity: 0;
    transition: opacity 220ms ease;
  }

  .book-3d-model:hover .book-open-page {
    opacity: 1;
  }

  .book-quote {
    font-family: "Syne", "sans-serif";
    font-size: 1.05rem;
    line-height: 1.45;
    font-weight: 700;
  }

  .book-quote-author {
    font-size: 0.72rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: #475569;
  }

  .book-back {
    transform: rotateY(180deg) translateZ(calc(var(--book-d) / 2));
    background: linear-gradient(130deg, #1e293b, #0b1220 72%);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .book-spine,
  .book-pages {
    width: var(--book-d);
    height: var(--book-h);
    top: 0;
    border-radius: 0.25rem;
  }

  .book-spine {
    left: calc(var(--book-d) / -2);
    transform: rotateY(-90deg) translateZ(calc(var(--book-w) / 2 - var(--book-d) / 2));
    background: linear-gradient(180deg, #0b1220, #131c2d);
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: grid;
    place-items: center;
  }

  .book-spine p {
    writing-mode: vertical-rl;
    transform: rotate(180deg);
    font-size: 10px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: rgba(241, 245, 249, 0.9);
  }

  .book-pages {
    right: calc(var(--book-d) / -2);
    transform: rotateY(90deg) translateZ(calc(var(--book-w) / 2 - var(--book-d) / 2));
    background:
      repeating-linear-gradient(
        0deg,
        #f8fafc,
        #f8fafc 3px,
        #eef2f7 3px,
        #eef2f7 6px
      );
    border: 1px solid rgba(148, 163, 184, 0.35);
  }

  .book-top,
  .book-bottom {
    width: var(--book-w);
    height: var(--book-d);
    left: 0;
    border-radius: 0.3rem;
  }

  .book-top {
    top: calc(var(--book-d) / -2);
    transform: rotateX(90deg) translateZ(calc(var(--book-h) / 2 - var(--book-d) / 2));
    background: linear-gradient(90deg, #334155, #111827);
  }

  .book-bottom {
    bottom: calc(var(--book-d) / -2);
    transform: rotateX(-90deg) translateZ(calc(var(--book-h) / 2 - var(--book-d) / 2));
    background: linear-gradient(90deg, #1e293b, #0b1220);
  }
}

@media (pointer: fine) {
  body.custom-cursor-on,
  body.custom-cursor-on a,
  body.custom-cursor-on button,
  body.custom-cursor-on input,
  body.custom-cursor-on textarea,
  body.custom-cursor-on select,
  body.custom-cursor-on label {
    cursor: none !important;
  }
}

.custom-cursor {
  --cursor-x: 0px;
  --cursor-y: 0px;
  --cursor-scale: 1.08;
  --cursor-rotate: 0deg;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 90;
  width: 28px;
  height: 28px;
  pointer-events: none;
  transform: translate3d(calc(var(--cursor-x) - 50%), calc(var(--cursor-y) - 50%), 0)
    scale(var(--cursor-scale)) rotate(var(--cursor-rotate));
  transition: transform 120ms linear;
}

.custom-cursor.is-active {
  --cursor-scale: 1.22;
  --cursor-rotate: 7deg;
}

.custom-cursor.is-down {
  --cursor-scale: 0.94;
}

.custom-cursor__arrow {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 22px;
  height: 22px;
  transform: translate(-50%, -50%);
  opacity: 0.98;
  color: rgba(244, 249, 255, 0.98);
  filter:
    drop-shadow(0 3px 8px rgba(0, 0, 0, 0.3))
    drop-shadow(0 0 7px rgba(151, 190, 255, 0.55));
}

@keyframes floatIn {
  from {
    opacity: 0;
    transform: translateY(26px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes drift {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  25% {
    transform: translate3d(20px, -20px, 35px) scale(1.03);
  }
  50% {
    transform: translate3d(-14px, -38px, -30px) scale(0.95);
  }
  75% {
    transform: translate3d(-24px, 14px, 20px) scale(1.06);
  }
}
